[
    {
        "type": "function",
        "function": {
            "name": "write_file",
            "description": "写入文件内容",
            "parameters": {
                "type": "object",
                "properties": {
                    "file_path": {
                        "type": "string",
                        "description": "文件路径"
                    },
                    "content": {
                        "type": "string",
                        "description": "要写入的内容"
                    }
                },
                "required": ["file_path", "content"]
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "read_file",
            "description": "读取文件内容，支持指定行范围",
            "parameters": {
                "type": "object",
                "properties": {
                    "file_path": {
                        "type": "string",
                        "description": "文件路径"
                    },
                    "start_line": {
                        "type": "integer",
                        "description": "起始行号（可选，默认从第1行开始）"
                    },
                    "end_line": {
                        "type": "integer",
                        "description": "结束行号（可选，默认到文件末尾）"
                    }
                },
                "required": ["file_path"]
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "update_file",
            "description": "更新文件内容，根据行范围参数来更新",
            "parameters": {
                "type": "object",
                "properties": {
                    "file_path": {
                        "type": "string",
                        "description": "文件路径"
                    },
                    "content": {
                        "type": "string",
                        "description": "要更新的内容"
                    },
                    "start_line": {
                        "type": "integer",
                        "description": "起始行号"
                    },
                    "end_line": {
                        "type": "integer",
                        "description": "结束行号（可选，默认只更新start_line一行）"
                    }
                },
                "required": ["file_path", "content", "start_line"]
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "list_files",
            "description": "查看目录下的文件，默认当前目录",
            "parameters": {
                "type": "object",
                "properties": {
                    "dir_path": {
                        "type": "string",
                        "description": "目录路径（可选，默认当前目录）"
                    }
                },
                "required": []
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "self.todo.create",
            "description": "创建待办事项列表，使用后必须使用self.todo.finish来退出对话或者标记所有任务完成，否则会持续请求。",
            "parameters": {
                "type": "object",
                "properties": {
                    "task_list": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "任务列表"
                    }
                },
                "required": ["task_list"]
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "self.todo.update",
            "description": "将任务标记为完成",
            "parameters": {
                "type": "object",
                "properties": {
                    "task": {
                        "type": "string",
                        "description": "任务名称"
                    }
                },
                "required": ["task"]
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "self.todo.finish",
            "description": "将所有任务标记为完成",
            "parameters": {
                "type": "object",
                "properties": {},
                "required": []
            }
        }
    },
    {
        "type": "function",
        "function": {
            "name": "run_command",
            "description": "安全地运行命令，包含危险命令黑名单和敏感路径检查，支持超时和工作目录设置",
            "parameters": {
                "type": "object",
                "properties": {
                    "command": {
                        "type": "string",
                        "description": "要执行的命令",
                        "examples": ["python script.py", "pip install package", "ls -la", "dir"]
                    },
                    "timeout": {
                        "type": "integer",
                        "description": "超时时间（秒），默认60秒",
                        "default": 60
                    },
                    "cwd": {
                        "type": "string",
                        "description": "工作目录（可选），默认为当前目录"
                    }
                },
                "required": ["command"]
            }
        }
    }
]