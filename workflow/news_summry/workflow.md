---
name: 日报生成工作流
description: 生成日报基金分析报告,用于分析基金动态和趋势,并生成基金投资建议和风险提示
---

# 主工作流程

## 1. 设计工作待办事项

创建待办事项列表：
- [ ] 调用新闻采集智能体获取新闻和公告
- [ ] 调用板块资金流向分析智能体获取资金流向分析
- [ ] 综合分析并生成最终报告

## 2. 调用新闻采集智能体

调用 `NewsCollector.run`，指令：执行新闻采集工作流，获取今日基金新闻、公告和热点文章，生成新闻总结报告。

## 3. 调用板块资金流向分析智能体

调用 `SectorFundFlowAnalyzer.run`，指令：执行板块资金流向分析，获取今日和5日板块资金流向数据并生成分析报告。

## 4. 综合分析与报告生成

- **综合分析**：结合新闻采集智能体的消息层面分析（政策动向、市场情绪、公告事件）与板块资金流向分析智能体的技术层面分析（资金流向、板块轮动、机构行为），进行交叉验证与关联分析。

- **矛盾识别**：识别消息层面与资金层面的矛盾点（如利好消息但资金流出、情绪悲观但机构抄底），分析可能原因并给出判断依据。

- **报告撰写**：生成结构化的《基金市场综合分析报告》

- **保存路径**：`data/result/final/yyyy-mm-dd.md`

## 5. 调用finish工具，标记所有任务完成，退出任务流

